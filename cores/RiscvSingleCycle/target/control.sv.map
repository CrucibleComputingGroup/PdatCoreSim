{"version":3,"file":"control.sv.map","sources":["../src/control.veryl"],"names":["","// Control Unit for single-cycle RISC-V processor","// Decodes instructions and generates control signals","module","RiscvSingleCycle_control","(","input","logic","[","32","]","instruction",",","// Control signals","output","branch","jump","mem_read","mem_write","mem_to_reg","alu_src","2","alu_a_src","reg_write","4","alu_op","3","imm_sel","// Branch condition signals","funct3","pc_src",")",";","// Instruction fields","7","opcode","funct3_field","funct7","always_comb","=","6",":","0","14","12","31","25","// Opcodes","localparam","OP_LUI","7'b0110111","OP_AUIPC","7'b0010111","OP_JAL","7'b1101111","OP_JALR","7'b1100111","OP_BRANCH","7'b1100011","OP_LOAD","7'b0000011","OP_STORE","7'b0100011","OP_IMM","7'b0010011","OP_REG","7'b0110011","// ALU operation codes (from alu.veryl)","ALU_ADD","4'b0000","ALU_SUB","4'b0001","ALU_SLL","4'b0010","ALU_SLT","4'b0011","ALU_SLTU","4'b0100","ALU_XOR","4'b0101","ALU_SRL","4'b0110","ALU_SRA","4'b0111","ALU_OR","4'b1000","ALU_AND","4'b1001","// Immediate selection codes (from immgen.veryl)","IMM_I","3'b000","IMM_S","3'b001","IMM_B","3'b010","IMM_U","3'b011","IMM_J","3'b100","// PC source selection","PC_PLUS4","2'b00","PC_BRANCH","2'b01","PC_JALR","2'b10","// ALU A source selection","ALU_A_RS1","ALU_A_PC","ALU_A_ZERO","ctrl_branch","ctrl_jump","ctrl_mem_read","ctrl_mem_write","ctrl_mem_to_reg","ctrl_alu_src","ctrl_alu_a_src","ctrl_reg_write","ctrl_alu_op","ctrl_imm_sel","ctrl_pc_src","begin","// Default values","case",") inside","// LUI: Load Upper Immediate","1","// 0 + imm_u","end","// AUIPC: Add Upper Immediate to PC","// PC + imm_u","// JAL: Jump and Link","// JALR: Jump and Link Register","// Branch instructions","// Load instructions","// Store instructions","// Immediate ALU operations","// ADDI","// SLTI","// SLTIU","// XORI","3'b110","// ORI","3'b111","// ANDI","// SLLI","3'b101","// SRLI or SRAI","if","5","else","default","endcase","// Register ALU operations","// ADD or SUB","// SLL","// SLT","// SLTU","// XOR","// SRL or SRA","// OR","// AND","// Invalid instruction - all signals stay at default","endmodule"],"mappings":"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"}